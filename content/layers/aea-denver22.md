---
venue: An Event Apart, Denver
date: 2022-10-11
proposal: &proposal
  cite: H√•kon Lie
  caption: |
    [Cascading HTML style sheets -- a proposal](https://www.w3.org/People/howcome/p/cascade.html)
slides:

# cascade history ----------------

- title: The '**C**' in...
- title: |
    C**H**SS
  <<: *proposal

- img: layers/cascade-proposal.jpg
  alt: |
    Cascading HTML style sheets -- a proposal,
    H√•kon W Lie, 10 Oct 1994
  position: top
  background: white
  <<: *proposal

- img: layers/back-to-the-future.jpg
  alt: |
    Back to the future
    flaming tire tracks between
    Doc and Marty's legs,
    as they look back in surprise.
  caption: '1989'

- img: no-harm/www-browser.jpg
  alt: The first world wide website & graphic browser
  position: top right
  caption: |
    [WWW HyperMedia Browser](https://worldwideweb.cern.ch/browser/)
    & *Editor*
- img: layers/www-browser-zoom-next.jpg
  alt: Zoom in on NEXT logo in top right corner of the browser
  position: top right
  caption: |
    Built for the NEXT machine

- img: process/ibm-pc.jpg
  alt: Old IBM desktop
  position: top
- img: no-harm/line-mode.jpg
  alt: The second browser, a text-only terminal
  position: top
  caption: |
    [Line Mode Browser](http://line-mode.cern.ch/www/hypertext/WWW/TheProject.html),
    developed by **Nicola Pellow**

- quote: |
    Web **for all**. Web **on everything**.
  cite: |
    W3C Mission, [Design Principles](https://w3.org/Consortium/mission.html#principles)

- img: process/ibm-pc.jpg
  alt: Old IBM desktop
  position: top
- img: no-harm/4k.jpg
  alt: Modern desktops
- img: dynamic-css/devices.jpg
  alt: A zillion different devices of all sizes (original)
- img: unfriendly/braille.jpg
  alt: Braille interface and headphones
- img: process/smartwatch.jpg
  alt: Lineup of smart watches
- img: unfriendly/agnesscott/smart-home.png
  alt: Google Home, Amazon Echo, and Apple HomePod
- img: queries-units/web-everything.jpg
  alt: |
    A gray office covered in cobwebs,
    and a Getty Images watermark.
- img: layers/ford-cobweb.jpg
  alt: |
    Indiana Jones
    covered in cobwebs,
    looking frustrated.

- img: layers/html-constraints.jpg
  alt: |
    info.cern.ch
    HTML Design Constraints, screenshot
  position: top
  background: white
  caption: info.cern.ch/hypertext/WWW/TheProject.html

- quote: |
    It is required that HTML be
    **a common language between all platforms**...
  cite: WWW Project

- quote: |
    ...This implies no device-specific markup,
    or anything which requires
    **control over fonts or colors**.
  cite: WWW Project

- pre: Web _Design_
  title: Will **Never Happen**

- from: auto
  use: end

- pre: Not a
  title: Lack of **Design**

- img: no-harm/line-mode.jpg
  alt: The second browser, a text-only terminal
  position: top
  caption: |
    [Line Mode Browser](http://line-mode.cern.ch/www/hypertext/WWW/TheProject.html)

- pre: A lack of
  title: |
    Design **Control**

- img: css-next/smashsf/sidesaddle-indd.jpg
  alt: |
    InDesign book-cover layout
    for Riding SideSaddle,
    my novel in a box

- img: css-next/smashsf/sidesaddle-box.jpg
  alt: |
    Final novel-in-a-box,
    Riding SideSaddle

- quote: |
    The fact we can **control** a paper page
    is really **a limitation of that medium**.
  cite: John Allsopp, 2000
  caption: |
    [A Dao of Web Design](http://alistapart.com/article/dao)

- img: css-next/smashsf/sidesaddle-box-click.jpg
  alt: |
    Same photo,
    but with a badly overlaid cursor pointer
    and three big scribbled red question marks

- img: css-next/smashsf/sidesaddle-box.jpg
  alt: |
    Final novel-in-a-box,
    Riding SideSaddle

- pre: The _Goal_‚Ä¶
  title: A Web That **Adapts**

- pre: |
    `@media`
  title: |
    _`min-width`_
  caption: Viewport dimensions

- pre: |
    `@media`
  title: |
    _`prefers-reduced-motion`_
  caption: User needs & preferences

- pre: |
    `@media`
  title: |
    _`hover`_
  caption: Device interfaces

- pre: |
    `@supports`
  title: |
    _`container-type: inline-size`_
  caption: Browser capabilities over time

- svg: svg/content/more-more
  alt: Animation of twitter-like posts appearing

- pre: Styles
  title: Must be **Responsive**

- title: ‚Ä¶And **Collaborative**

- img: layers/not-alone.jpg
  alt: |
    We're Not Alone
    (in big block letters, in space)
- img: layers/not-alone-browsers.jpg
  alt: |
    Same We're Not Alone,
    with browser logos on top
- img: layers/not-alone-users.jpg
  alt: |
    Same We're Not Alone,
    with browser logos
    and a guy in construction clothes
    carrying a laptop
- img: layers/not-alone-et.jpg
  alt: |
    Same We're Not Alone,
    with browser logos,
    a guy in construction clothes
    carrying a laptop,
    and ET

- quote: |
    We're designing _dynamic content_
    with _unknown collaborators_
    on an _infinite and unknowable canvas_,
    across _operating systems_, _interfaces_,
    _writing-modes_, & _languages_...
  cite: me

- img: css-next/smashsf/sidesaddle-indd.jpg
  alt: |
    InDesign book-cover layout
    for Riding SideSaddle
  caption: |
    What you see is not what I will get

- img: layers/aea-jason.jpg
  alt: |
    Jason Grigsby on stage at AEA Denver,
    with a slide that shows outlines
    of a phone, tablet, and desktop
    with the headline
    'And forget all of the resolutions in between'

- quote: |
    HTML totally **eliminates any visual creativity**
    that a document‚Äôs designer might have.
  cite: Roy Smith, 1993

- img: no-harm/mosaic.jpg
  alt: Mosaic browser
  position: top
  caption: Mosaic, 1993

- quote: |
    The web would have become a **giant fax machine**
    where **pictures of text** would be passed along.
  cite: H√•kon Lie

- pre: 1993-1994
  title: |
    [w3.org/Style/History/](https://w3.org/Style/History/)

- img: layers/cascade-proposal.jpg
  alt: |
    Cascading HTML style sheets -- a proposal,
    H√•kon W Lie, 10 Oct 1994
  position: top
  background: white
  <<: *proposal

- quote: |
    This proposal tries to
    **soften the tension**
    between the _author_ and the _reader_.
  <<: *proposal

- quote: |
    The **user/browser** specifies _initial preferences_
    and **hands the remaining influence over** to the document.
  <<: *proposal

- quote:
    Provide **hints** that _the browser may or may not use_.
  cite: H√•kon Lie

- img: no-harm/line-mode.jpg
  alt: The second browser, a text-only terminal
  position: top
  caption: |
    (demo Lynx in terminal?)

- title: CSS **Declarations**
  css: |
    property: value;

- title: |
    _`color`_`:` **blue**`;`

- md: |
    ```html
    <button style='color: blue'>‚Ä¶</button>
    ```
    ```css
    button { color: violet; }
    ```

- html: |
    <link rel="stylesheet" href="so-many-hints.css">
    <style>...</style>

- quote: |
    An ordered list (**cascade**) of _style sheets_.
    Referenced from _the same document_.
  <<: *proposal

- title: |
    üí•üôà‚ÅâÔ∏èüí•
  md: |
    ```html
    <button style='color: blue'>‚Ä¶</button>
    ```
    ```css
    button { color: violet; }
    ```

- title: |
    **Multiple** or **Unknown** ‚ÅâÔ∏è
  css: |
    color: teal;
    color: violet;
    color: oklch(79.269% 0.171 70.67);

- title: |
    On every _html element_, \
    For every _css property_ \
    We need **exactly one value**

- pre: Rules for‚Ä¶
  title: |
    **Cascading** filters out \
    **Inheritance** fills in

- img: conventions/systems-cascade.jpg
  alt: |
    Product label for Cascade,
    with sheeting action for virtually spotless dishes -
    subtitled 'Use the Cascade'
  position: top
  caption: |
    Slide from Natalie Downe's 2008
    [**CSS Systems**](http://www.slideshare.net/nataliedowne/css-systems-presentation)
    talk

- img: css-next/thunderdome-words.jpg
  alt: |
    Tina Turner as Aunty Entity
    in the Mad Max Thunderdome,
    with the law
    'Two styles enter, one style leaves'
    in bold text
  caption: |
    Algorithmic Thunderdome

- img: css-next/coins.jpg
  alt: |
    Mechanical coin sorter on a table,
    with a ramp at the top
    and a small-to-large series of slots
  fit: contain
- img: css-next/coins-exclusive.jpg
  alt: |
    Same coin sorter,
    with all slots crossed off
    except for the largest one with coins in it,
    and an arrow pointing at those coins
    that says 'move on'
  fit: contain
- img: css-next/coins.jpg
  alt: |
    Mechanical coin sorter on a table,
    with a ramp at the top
    and a small-to-large series of slots
  fit: contain
  caption: |
    (but this time using _different metrics_)

- demo: cascade-funnel

# origins and importance ----------------

- pre: Origins...
  title: |
    **Who Requested** The Style?

- img: layers/not-alone-et.jpg
  alt: |
    Same We're Not Alone,
    with browser logos,
    a guy in construction clothes
    carrying a laptop,
    and ET

- pre: Importance...
  title: |
    **How Much** Do They **Care**?

- quote: |
    The **user/browser** specifies _initial preferences_‚Ä¶
  <<: *proposal

- title: |
    üñ• **Browser** Defaults

- pre: Officially‚Ä¶
  title: |
    üñ• **User Agent** Styles
  caption: |
    Collected by
    [Jens Oliver Meiert](https://meiert.com/en/blog/user-agent-style-sheets/)

- css: |
    body { margin: 8px; }
    a:link { color: blue; }
    div, section, article, p, ol, ul /* etc */ {
      display: block;
    }
    h1, h2, h3, h4 /* etc */ {
      font-weight: bold;
      font-size: something big I dunno;
    }

- img: layers/cascade-proposal.jpg
  alt: |
    Cascading HTML style sheets -- a proposal,
    H√•kon W Lie, 10 Oct 1994
  position: top
  background: white
  <<: *proposal

- img: layers/proposal-no-defaults.jpg
  fit: 100%
  alt: |
    One big block of text
    with no white-space
    or line breaks
  caption: |
    `* { all: initial; }`

- title: |
    üë• **User** Styles
  sub: Establish desired *preferences*
  caption: These days rarely CSS, but *treated the same*

- img: layers/user-preferences.jpg
  fit: contain
  alt: |
    Language and appearance preferences in Firefox
    include light/dark mode,
    colors, fonts, and zoom level
- img: layers/preferences-important.jpg
  fit: contain
  alt: |
    In the font preferences dialogue,
    a default-checked option:
    Allow pages to choose their own fonts,
    instead of your selections above
  caption: |
    Un-check for `!important` behavior
- title: üé® **Author** Styles

- title: Cascade üó∫ **Origins**
  md: |
    1. üñ• **User Agent** (goes first)
    2. üë• **User** (override browser)
    3. üé® **Author** (most powerful)

- img: layers/vader.jpg
  alt: |
    Darth Vader
    choking a rebel soldier
    as storm troopers watch

- quote: |
    If conflicts arise **the user should have the last word**‚Ä¶
  <<: *proposal

- pre: Why we have‚Ä¶
  title: ‚ùó**importance**

- twoup:
    - src: css-next/good-spock.jpg
      alt: Spock
    - src: css-next/evil-spock.jpg
      alt: Spock with a goatee
  caption: |
    !mportant _mirror universe_

- md: |
    1. ‚ùóüé® Author **Important** (goes first)
    2. ‚ùóüë• User **Important** (override authors)
    3. ‚ùóüñ• User Agent **Important** (most power)

- md: |
    1. üñ• User Agent Defaults
    2. üë• User Preferences
    3. üé® Author Styles
    4. ==‚ùóüé® Author **Important**==
    5. ==‚ùóüë• User **Important**==
    6. ==‚ùóüñ• User Agent **Important**==

- img: layers/balance-force.jpg
  alt: |
    Kylo Ren and Rey
    standing in front of an entire star war
    with spaceships and lasers
    and AT-AT walkers

- demo: cascade-funnel
  caption: Same with **Shadow Contexts**

- pre: The _purpose_ of‚Ä¶
  title: ‚ùó**importance**

- title: üëéüèº Authors **Override** Styles

- title: üëçüèº Users **Protect** Styles

- title: Often **Isolated**
  md: |
    1. ‚Ä¶
    2. ‚Ä¶
    3. ==üé® Author Styles==
    4. ==‚ùóüé® Author **Important**==
    5. ‚ùó‚Ä¶
    6. ‚ùó‚Ä¶

- img: layers/astrolabe.jpg
  alt: |
    Mechanical astrolabe
    with Earth at the center,
    and concentric rings
    for other planets/stars
- img: layers/orrery.jpg
  alt: |
    Clockwork orrery,
    with planets circling the sun,
    and the earth off to one side
  position: top
- img: layers/orrery-specificity.jpg
  alt: |
    Clockwork orrery,
    with a scribbled arrow
    pointing to the earth tilt gears
    labeled 'specificity'
  position: top

# specificity ----------------

- demo: cascade-funnel
  caption: |
    Often confused with
    other aspects of _the cascade_

- pre: (out of order...)
  title: CSS **Selectors** & **Specificity**

- title: |
    Dealing With **Selectors**
  css: |
    .this-is a.selector {
      /* declarations: here; */
    }

- title: How **Specific**?

- img: layers/select-all.jpg
  fit: contain
  background: black
  alt: |
    AEA Denver website
    with an hotpink dashed outline
    around every element on the page
- img: layers/select-logo.jpg
  fit: contain
  background: black
  alt: |
    AEA Denver website
    with an hotpink dashed outline
    around only the logo

- title: |
    [Heuristic](https://en.wikipedia.org/wiki/Heuristic)
  sub: |
    a practical assumption
    that approximates the goal

- title: |
    More **Specific** Styles \
    _Likely_ \
    More **Important**

- pre: |
    universal/type ¬ª
  title: Global **Defaults**

- pre: |
    attrs/classes ¬ª
  title: Common **Patterns**

- pre: |
    IDs ¬ª
  title: Singular **Overrides**

- title: Four **layers**
  md: |
    1. *Universal* `*` (go first)
    2. *Element* `type`s
    3. *Reusable* `.class`es & `[attributes]`
    4. *Unique* `#ID`s (most power)

- from: itcss
  use: main
- from: itcss
  use: layers
- from: itcss
  use: graph

- title: Heuristics Are **Assumptions**
- title: Assumptions **Often Fail**
  sub: Especially "**At Scale**"

- css: |
    /* ‚Ä¶default table styles‚Ä¶¬†*/
    table[rules=cols i] > tfoot > tr > td,
    table[rules=cols i] > tfoot > tr > th,
    table[rules=all i] > tfoot > tr > td,
    table[rules=all i] > tfoot > tr > th {
      border-color: black;
    }
  caption: |
    [html.spec.whatwg.org](https://html.spec.whatwg.org/multipage/rendering.html#tables-2)

- css: |
    [hidden] {
      display: none !important;
    }

- title: One **Flexible** Layer
  md: |
    1. ~~*Universal* `*`~~
    2. ~~*Element* `type`s~~
    3. ==*Reusable* `.class`es & `[attributes]`==
    4. ~~*Unique* `#ID`s~~

- css: |
    .block .element.modifier { /* 3 */ }
    .block__element--modifier { /* 1 */ }

- from: itcss
  use: graph

- title: ‚ùó**important**

- css: |
    .ü§¨-bootstrap {
      font-weight: bold !important;
    }

- title: üò©ü§¨üò©

# Layers ----------------

- title: |
    Cascade **Layers**
  caption: |
    [Working Draft](https://www.w3.org/TR/css-cascade-5/)

- caniuse: css-cascade-layers

- img: css-next/layers-polyfill.jpg
  alt:
    OddBird article,
    Cascade Layers ‚Äì There‚Äôs a Polyfill for That!
    by Sana Javed on June 21, 2022
  position: top
  caption: |
    https://www.oddbird.net/2022/06/21/cascade-layers-polyfill/

- from: itcss
  use: layers

- css: |
    @layer settings { ‚Ä¶ }
    @layer tools { ‚Ä¶ }
    @layer generic { ‚Ä¶ }
    @layer elements { ‚Ä¶ }
    @layer objects { ‚Ä¶ }
    @layer components { ‚Ä¶ }
    @layer overrides { ‚Ä¶ }

- title: |
    **Layers** of _Specificity_

- pre: |
    **`@layer`**` { ‚Ä¶ }`

- pre: |
    `@layer `**`<name>`**` { ‚Ä¶ }`

- css: |
    @layer reset {
      audio[controls] { display: block; }
      [hidden] { display: none !important; }
    }

- pre: |
    `@import url(‚Ä¶) `_`layer(<name>)`_`;`

- md: |
    1. `@layer `**`settings`**` { ‚Ä¶ }`
    2. `@layer `**`tools`**` { ‚Ä¶ }`
    3. `@layer `**`generic`**` { ‚Ä¶ }`
    4. `@layer `**`elements`**` { ‚Ä¶ }`
    5. `@layer `**`objects`**` { ‚Ä¶ }`
    6. `@layer `**`components`**` { ‚Ä¶ }`
    7. `@layer `**`overrides`**` { ‚Ä¶ }`
  caption: |
    As many layers as we want!

- md: |
    1. `@layer `**`Utilities`**` { ‚Ä¶ }`
    2. `@layer `**`Components`**` { ‚Ä¶ }`
    3. `@layer `**`Themes`**` { ‚Ä¶ }`
    4. `@layer `**`Frameworks`**` { ‚Ä¶ }`
    5. `@layer `**`Resets`**` { ‚Ä¶ }`
  caption: |
    Any names that we want!

- css: |
    @layer reset { /* least powerful */ }
    @layer default { /* ‚Ä¶ */ }
    @layer theme { /* ‚Ä¶ */ }
    @layer components { /* more powerful */ }
    /* unlayered styles: most powerful */
  caption: |
    Stack in the order they're introduced

- title: |
    _Specificity_ is **Contained**

- css: |
    @layer framework {
      #menu .dropdown .menu-item {
        background: whitesmoke; /* ‚úÖ specificity! */
      }

      .menu-item {
        background: lightcyan;
      }
    }

- css: |
    @layer framework {
      #menu .dropdown .menu-item {
        background: whitesmoke;
      }
    }
    @layer override {
      .menu-item {
        background: lightcyan; /* ‚úÖ layer! */
      }
    }

- css: |
    @layer one { ‚Ä¶ }
    @layer two { ‚Ä¶ }
    @layer one { ‚Ä¶ }
    @layer three { ‚Ä¶ }
    @layer one { ‚Ä¶ }

- pre: Repeated _Layers_
  title: |
    Are **Grouped**
- pre: Groups
  title: |
    Stack **In Order**

- css: |
    @layer generic {
      audio[controls] { display: block; }
    }

    @layer theme { /* ‚Ä¶ */ }

    /* still a lower layer than "theme" styles */
    @layer generic {
      [hidden] { display: none !important; }
    }

- css: |
    @layer generic {
      audio[controls] { display: block; }
      [hidden] { display: none !important; }
    }

    @layer theme { /* ‚Ä¶ */ }

- title: |
    Explicit **Layer Order**
  sub: Define it once, at the start

- pre: |
    `@layer `**`<name>`**`, `**`<name>`**`, `**`<etc>`**`;`

- css: |
    /* establish layer order */
    @layer one, two, three;

    /* add code to layers as needed */
    @import url(two.css) layer(two);
    @layer three { ‚Ä¶ }
    @layer one { ‚Ä¶ }
    @layer two { ‚Ä¶ }

- demo: layer-sort

- title: |
    **Nesting** Layers

- css: |
    @layer components {
      @layer state { ‚Ä¶ }
    }

    /* access nested layers */
    @layer components.state { ‚Ä¶ }

- css: |
    /* system.css */
    @layer theme { ‚Ä¶ }
    @layer components { ‚Ä¶ }

- css: |
    @import url(system.css) layer(system);

    @layer system.theme { ‚Ä¶ }
    @layer system.components { ‚Ä¶ }

- css: |
    @import url(system.css) layer(system);

    @layer system.theme { ‚Ä¶ }
    @layer system.components { ‚Ä¶ }
    @layer system.custom { ‚Ä¶ }

- css: |
    @import url(bootstrap.css) layer(bootstrap.theirs);

    @layer bootstrap.ours {
      /* anything here will override bootstrap */
    }

- css: |
    @layer components {
      @layer defaults, themes, state;
    }

- title: Not **Escalating** ‚ùóÔ∏èimportance
- title: |
    **Managing** Priorities

- img: layers/orrery-specificity.jpg
  alt: |
    Clockwork orrery,
    with a scribbled arrow
    pointing to the earth tilt gears
    labeled 'specificity'
  position: top

- pre: Language _Heuristics_
  title: |
    Don't **Boss Us Around**
- title:  More **Cascade Control**
- title: Fewer **Specificity Hacks**
- title: Less **‚ùóÔ∏èmportance**

- pre: Like _Origins_,
  title: |
    ‚ùóÔ∏èmportant Layers **Reverse**

- md: |
    1. Resets
    2. Themes
    3. Components

- title: |
    **`!important`**

- md: |
    1. Resets
    2. Themes
    3. Components
    4. ==**‚ùómportant** Components==
    5. ==**‚ùómportant** Themes==
    6. ==**‚ùómportant** Resets==

- img: layers/balance-force.jpg
  alt: |
    Kylo Ren and Rey
    standing in front of an entire star war
    with spaceships and lasers
    and AT-AT walkers

- title: |
    **Protect** Styles
  sub: From _future layers_

- css: |
    @layer reset {
      audio[controls] { display: block; }
      [hidden] { display: none !important; }
    }

- title: |
    _Prioritize_ `->` **Layers** \
    _Protect_ `->` **Importance**

# Recommendations

- title: Getting **Started**
  sub: my _recommendations_, your milage may vary

- pre: Start with
  title: A **Layer Order**

- css: |
    /* add as the first styles */
    @layer reset, framework, components, utilities;
  caption: |
    Start simple, and append as needed‚Ä¶

- html: |
    <style>/* keep this before linked styles */
    @layer reset, framework, components, utilities;
    </style>
    <link rel="stylesheet" href="‚Ä¶">
    <link rel="stylesheet" href="‚Ä¶">
  caption: |
    Can live in the HTML, if that keeps it central

- pre: Then
  title: |
    Layer **Dependencies**
  sub: |
    *Including inter-org dependencies

- pre: Clearly define‚Ä¶
  title: Each **Tool's Priority**

- pre: Clearly define‚Ä¶
  title: Tool-Specific **Overrides**

- css: |
    @import url(bootstrap.css) layer(bootstrap.vendor);

    @layer bootstrap.overrides {
      /* anything here will override bootstrap */
    }

- pre: As you go
  title: Update **Layer Order**

- pre: Then _Layer_
  title: Overall **Architecture**

- pre: Working from
  title: |
    **Lowest** to **Highest**

- from: itcss
  use: graph
- img: layers/chart-part-1.jpg
  fit: contain
  background: white
- img: layers/chart-part-2.jpg
  fit: contain
  background: white
- img: layers/chart-part-3.jpg
  fit: contain
  background: white
- img: layers/chart-layers.jpg
  fit: contain
  background: white

- title: |
    Single File **Components**?

- html: |
    /* Vue example */
    <template>‚Ä¶</template>
    <script>‚Ä¶</script>

    <style>
    @layer components {
      /* all our component styles */
    }
    </style>

- pre: As useful,
  title: Layer **Inside Components**

- title: |
    **Nested** Sub-Layers

- pen: layers-btn

- pre: Also for
  title: Design **Systems**
- pre: Also for
  title: WordPress **Themes**

- pre: Use _layers_
  title: To **Provide Clarity**
- pre: Use _layers_
  title: To **Convey Architecture**
- pre: Use _layers_
  title: To Describe **Intent**

- pre: Not Just‚Ä¶
  title: |
    'This is **!mportant**'

- pre: |
    (layers _lower importance_ by default)

- pre: |
    X Overrides Y \
    **Because** \
    _'Components'_ Override _'Defaults'_

- pre: As long as
  title: The **Intent is Clear**

- pre: There's
  title: |
    **No Harm** Layering

- pre: Not an
  title: |
    **All-Or-Nothing** Grenade

- pre: Encourages
  title: |
    **Nuanced** & **Explicit** Priorities

- pre: Also _Not_
  title: The **Only Tool**

- pre: Learn to
  title: Use **Selectors**

- css: |
    [id="example"] {
      /* ID selector, class specificity */
    }
- css: |
    :where(#example) {
      /* ID selector, zero specificity */
    }

- pre: Re-learn
  title: |
    **‚ùóÔ∏èmportant** As Intended

- title: |
    üëéüèº **Override** Styles \
    In **Previous Code**
  sub: (often in _lower_ layers)

- title: |
    üëçüèº **Protect** Styles \
    From **Future Code**
  sub: (often in _higher_ layers)

- pre: For _flexibility‚Ä¶_
  title: Layer **Everything**

- pre: Use _unlayered_ for
  title: |
    **Prototyping** & **DeBugging**

- pre: But _not_
  title: Every **Individual** Thing

- img: css-next/layers-scope.webp
  alt: |
    A grid of overlapping
    'scope' columns (buttons, cards, logins)
    and 'layer' rows
    (default, theme, component).
    Each scope crosses all layers,
    and each layer crosses all scopes.
  fit: contain
  background: white

# Scope ----------------

- title: Also **Coming Soon**‚Ä¶

- title: |
    **Scoped** Styles

- pre: 1. Avoid
  title: |
    **Naming** Conflicts
  sub: (across _large teams_ & _projects_)

- pre: 2. By
  title: Expressing **Membership**
  sub: (through _lower boundaries_ & _proximity_)

- title: Scope **Proximity**

- css: |
    .light-theme a { color: purple; }
    .dark-theme a { color: plum; }
  caption: |
    DOM _Proximity_

- demo: scope-proximity-issue

- pre: |
    _`@scope`_` (`_`<root>`_`) { /*‚Ä¶*/ }`
  caption: |
    [Scope spec](https://www.w3.org/TR/css-cascade-6/)

- css: |
    @scope (.light-theme) {
      a { /* similar to simple nesting‚Ä¶ */ }
    }
    @scope (.dark-theme) {
      a { /* but the _closer_ scope root wins‚Ä¶ */ }
    }
  caption: |
    [Scope spec](https://www.w3.org/TR/css-cascade-6/)

- pen: Scope proximity demo
  id: wvyBNXP

- title: Scope **Boundaries**

- css: |
    .title { /* global */ }
    .post .title { /* nested */ }

    .post__title { /* BEM */ }
  caption: |
    _Membership_ is distinct from _ancestry_

- img: layers/scope-donut.jpg
  alt: Media component with contents that are out of scope
  fit: contain
  background: white
  caption: |
    A "donut scope" with
    _lower boundaries_

- img: csswg/components.jpg
  alt: wireframe of a site, with multiple nested components
  fit: contain
  background: '#e5e5e5'
  caption: |
    A "donut scope" with
    _lower boundaries_

- img: layers/aea-chris.jpg
  alt: |
    Chris Coyier on stage,
    with a slide about CSS Modules
    scoping styles

- pre: Build-tools
  title: Provide **Scoped Styles**
  sub: BEM, CSS Modules, Vue, JSX, Stylable, etc

- css: |
    .post__title { /* BEM */ }
    .title[data-JKGHJ] { /* Vue */ }
  caption: |
    Maintain uniqueness

- pre: |
    _`@scope`_` (<root>)`_` to (<boundary>)`_` {‚Ä¶}`
  caption: |
    [Scope spec](https://www.w3.org/TR/css-cascade-6/)

- css: |
    @scope (.media) to (.content) {
      img { /* only images that are "in scope" */ }
    }
  caption: |
    [Scope spec](https://www.w3.org/TR/css-cascade-6/)

- pen: Visualizing scope
  id: XWZwvWj

- pen: Scope boundary demo
  id: ZErXZVY

- title: Nested **&lt;style&gt;** Scopes
- html: |
    <article>
      <style scoped>
        p { color: green; }¬†
      </style>
      <p>This paragraph will be green.</p>
    </article>

    <p>This paragraph won't!</p>
  caption: |
    ‚ùå This won't work (yet)
- html: |
    <article>
      <style>
        @scope {
          p { color: green; }¬†
        }
      </style>
      <p>This paragraph will be green.</p>
    </article>

    <p>This paragraph won't!</p>
  caption: |
    ‚úÖ This works

- pre: Different from
  title: Shadow-DOM **Encapsulation**

- img: csswg/widget.jpg
  fit: contain
  alt: |
    Diagram shows a widget with solid boundaries,
    which cannot be penetrated
    in either direction
    (global styles can't get in, widget styles can't get out)
  background: white
  caption: |
    **Encapsulation**
    is designed for _isolated DOM widgets_

- img: csswg/scoped.jpg
  alt: |
    Diagram shows a component with porous boundaries,
    all styles can penetrate, or establish their own lower boundaries
  fit: contain
  background: white
  caption: |
    **Scope**
    is designed for _a unified system_

- title: |
    **Broad-Reaching** Scopes \
    _&&_ \
    **Narrow** Component Scopes

- pre: Maybe Develop
  title: Scoping **Conventions**?

- css: |
    @scope ([data-scope='media']) to ([data-scope]) {
      /* Stop scopes from overlapping? */
    }

- pre: Still some
  title: |
    **Details** to Work Out
  caption: |
    https://css.oddbird.net/scope/

- pre: prototype‚Ä¶
  title: Now in **Chromium Canary**
  sub: |
    `about://flags` - _experimental web platform features_
  caption: (Chrome or Edge Canary)

# Outro

- title: Don't **Fear The Cascade**

- pre: The Cascade is
  title: Our **Most Powerful Tool**

- title: Core To **CHSS**
- title: |
    **CSS**?
- title: |
    **Cascading** Style Sheets?
- title: |
    **CSS**‚ùóÔ∏è

- pre: The _cascade_ is
  title: |
    Getting **Major Upgrades**

- pre: The _cascade_
  title: |
    Expresses **Layers of Priority**

- pre: The _cascade_
  title: |
    Facilitates **Collaboration**

- img: layers/not-alone-et.jpg
  alt: |
    Same We're Not Alone,
    with browser logos,
    a guy in construction clothes
    carrying a laptop,
    and ET

- img: layers/vader.jpg
  alt: |
    Darth Vader
    choking a rebel soldier
    as storm troopers watch

- quote: |
    A Jedi uses the [Cascade]
    for _knowledge and defense_,
    **never for attack**.
  cite: Yoda (almost)
  face: layers/yoda.jpg
  alt: Yoda leans on a walking stick among leaves

- pre: |
    _Complete Guide_ to
  title: CSS **Cascade Layers**
  sub: https://css-tricks.com/css-cascade-layers/
---
